## 07. 객체 분해

### 프로시저 추상화
- 소프트웨어가 무엇을 해야 하는지를 추상화.
    - 기능분해(알고리즘 분해)
        - 추상화의 단위는 프로시저이며 시스템은 프로시저를 단위로 분해
        - 프로시저는 반복적으로 실행되거나 거의 유사하게 실행되는 작업들을 하나의 장소에 모아놓음으로써 로직을 재사용하고 중복을 방지할 수 있는 추상화 방법.
        - 내부의 상세한 구현 내용을 모르더라도 인터페이스만 알면 프로시저를 사용할 수 있기 때문(잠작잭으로 정보은닉)
    - 기능 분해 방법
      - 기능을 중심으로 필요한 데이터를 결정한다.
      - 기능은 우선이고 데이터는 기능의 뒤를 따른다.
      - 기능분해를 위한 하향식 접근법은 먼저 필요한 기능을 생각하고 이 기능을 분해하고 정제하는 과정에서 필요한 데이터의 종류와 저장방식을 식별한다.
      - 하향식 기능 분해는 논리적이고 체계적인 시스템 개발 절차를 제시한다. 커다란 기능을 좀 더 작은 기능으로 단계적으로 정제해 가는 과정은 구조적이며 체계적인 동시에 이상적인 방법으로 보임.
      - 하향식 기능의 문제점
        - 시스템은 하나의 메인 함수로 구성되어 있지 않다.
        - 기능 추가나 요구사항 변경으로 인해 메인 함수를 빈번하게 수정해야 한다.
        - 비즈니스 로직이 사용자 인터페이스와 강하게 결합된다.
        - 하향식 분해는 너무 이른 시기에 함수들의 실행 순서를 고정시키기 때문에 유연성과 재사용성이 저하된다.
        - 데이터 형식이 변경될 경우 파급효과를 예측할 수 없다.
        - 처음부터 구현을 염두해 두기 때문에 자연스럽게 함수들의 실행 순서를 정의 하는 시간 제약을 강조함.
        - 결과적으로 모든 중요한 제어 흐름의 결정이 상위 함수에서 이뤄지고 하위 함수는 상위 함수의 흐름에 따라 적절한 시점에 호출된다.
        - 하향식 설계와 관련된 모든 문제의 원인은 결합도다. 함수는 상위 함수가 강요하는 문맥에 강하게 결합된다.
        - 어떤 데이터를 어떤 함수가 사용하고 있는지를 추적하기 어렵다.
      - 하향식 분해의 유용
        - 설계가 어느 정도 안정화 된 후에는 설계의 다양한 측면을 논리적으로 설명하고 문서화하기에 용이하다.

```
직원의 급여를 계산한다
  사용자로부터 소득세율을 입력받는다
    "세율을 입력하세요:" 라는 문장을 화면에 출력한다
    키보드를 통해 세율을 입력 받는다.
  직원의 급여를 계산한다
    전역 변수에 저장된 직원의 기본급 정보를 얻는다.
    급여를 계산한다.
  양식에 맞게 결과를 출력한다.
    "이름 : {직원명}, 급여 : {계산된 급여}" 형식에 따라 출력 문자열을 생성한다.
```



### 데이터 추상화
- 소프트웨어가 무엇을 알아야 하는지를 추상화
    - 타입을 추상화(추상 데이터 타입)
    - 프로시저를 추상화(객체지향)

### 모듈
- 모듈은 다음과 같은 두가지 비밀을 감춰야 한다.
  - 복잡성: 모듈이 너무 복잡한 경우 이해하고 사용하기가 어렵다. 외부에 모듈을 추상화 할 수 있는 간단한 인터페이스를 제공해서 모듈의 복잡도를 낮춘다.
  - 변경 가능성: 변경 가능한 설계 결정이 외부에 노출될 경우 실제로 변경이 발생해씅ㄹ 떄 파급효과가 커진다. 변경 발생 시 하나의 모듈만 수정하면 되도록 변경 가능한 걸계 결정을 모듈 내부로 감추고 외부에는 쉽게 변경되지 않을 인터페이스를 제공한다.
- 모듈의 장점과 한계
  - 모듈 내부의 변수가 변경되더라도 모듈 내부에만 영향을 미친다.
  - 비즈니스 로직과 사용자 인터페이스에 대한 관심사를 분리한다.
  - 전역 변수와 전역 함수를 제거함으로써 네임 스페이스 오염을 방지한다.
- 모듈은 기능이 아니라 변경의 정도에 따라 시스템을 분해하게 한다. 각 모듈은 외부에 감춰야 하는 비밀과 관련성 높은 데이터와 함수의 집합이다. 따라서 모듈 내부는 높은 응집도를 유지한다. 모듈과 모듈 사이에는 퍼블릭 인터페이스를 통해서만 통신해야 한다. 따라서 낮은 결합도를 유지한다.
- 모듈의 단점
  - 인스턴스의 개념을 제공하지 않는다.

### 클래스
- 클래스는 추상타입인가?
    - 가장 핵심적인 차이는 클래스는 상속과 다향성을 지원하는 데 비해 추상 데이터 타입은 지원하지 못한다.
    - 추상데이터 타입은 타입을 추상화한 것이고 클래스는 절차를 추상화한 것.
- 클래스가 추상 데이터 타입의 개념을 따르는지 확인할 수 있는 가장 간단한 방법은 클래스 내부에 인스턴스의 타입을 표현하는 변수가 있는지는 살펴보는 것이다.  이처럼 인스턴스 변수에 저장된 값을 기반으로 메서드 내에서 타입을 명시적으로 구분하는 방식은 객체지향을 위반하는 것으로 간주된다.
